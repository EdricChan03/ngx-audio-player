dist: trusty
sudo: false

language: node_js
node_js:
  - "10"

addons:
  apt:
    sources:
      - google-chrome
    packages:
      - google-chrome-stable

cache:
  directories:
    - ./node_modules

install:
  - npm install

stages:
  - lint
  - test
jobs:
  include:
    - stage: lint
      script: npm run lint
      name: "Linting"
    - stage: test
      # TODO(EdricChan03): Test the whole project instead of only the library.
      script: npm run test-lib -- --no-watch --no-progress --browsers=ChromeHeadlessCI
      name: "Testing"
# Uncomment this to enable notifications.
# notifications:
#  webhooks:
#    on_success: change
#    on_failure: always
#    on_start: false
